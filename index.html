<!-- SEO ê¸°ë³¸ ì„¤ì • -->
<meta name="description" content="ê³„ë€ ë°•ìŠ¤ ê²Œì„ - ìˆ«ìë¥¼ ë“œë˜ê·¸í•´ì„œ í•©ì´ 10ì´ ë˜ë©´ ì˜¤ë Œì§€ê°€ ì‚¬ë¼ì§€ëŠ” í¼ì¦ ê²Œì„. ëˆ„êµ¬ë‚˜ ì‰½ê²Œ ì¦ê¸¸ ìˆ˜ ìˆëŠ” ë‡Œ ìê·¹ ê²Œì„!">
<meta name="keywords" content="ê²Œì„, í¼ì¦ê²Œì„, ìˆ«ìê²Œì„, í•©ì´ 10, ìˆ˜í•™ê²Œì„, ë¸Œë ˆì¸ê²Œì„, ìºì¥¬ì–¼ê²Œì„, ì˜¤ë Œì§€ê²Œì„, Egg Game">
<meta property="og:title" content="ê³„ë€ ë°•ìŠ¤ ê²Œì„ â€“ í•©ì´ 10ì´ ë˜ë©´ ì‚¬ë¼ì§€ëŠ” í¼ì¦">
<meta property="og:description" content="ìˆ«ìë¥¼ ë“œë˜ê·¸í•´ì„œ í•©ì´ 10ì„ ë§Œë“¤ë©´ ì˜¤ë Œì§€ê°€ ì‚¬ë¼ì§€ëŠ” ì¬ë¯¸ìˆëŠ” í¼ì¦ ê²Œì„. ëª¨ë°”ì¼, PC ëª¨ë‘ ê°€ëŠ¥!">
<meta property="og:type" content="website">
<meta property="og:url" content="https://kkhj218-netizen.github.io/Egg-game/">
<meta property="og:image" content="https://your-image-url.jpg">
<meta name="robots" content="index, follow">

<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ê³„ë€ ë°•ìŠ¤ â€“ í•©ì´ 10ì´ ë˜ë©´ ì‚¬ë¼ì§€ëŠ” ê²Œì„</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      background: #e5ffe7;
    }

    .frame {
      width: 900px;
      max-width: 100%;
      background: #22c55e;
      border-radius: 30px;
      padding: 18px;
      box-shadow: 0 15px 30px rgba(0,0,0,0.25);
    }

    .inner {
      background-image: repeating-linear-gradient(
        45deg,
        #f1ffe8 0,
        #f1ffe8 12px,
        #e9fbdc 12px,
        #e9fbdc 24px
      );
      border-radius: 20px;
      padding: 24px 28px 20px;
      position: relative;
      min-height: 520px;
      overflow: hidden;
    }

    .hidden { display: none !important; }

    /* ===== ë©”ì¸ ë©”ë‰´ ===== */

    .menu-layout {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
    }

    .title-wrap {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 18px;
    }

    .main-sub {
      font-size: 18px;
      font-weight: 700;
      color: #16a34a;
      text-shadow: 1px 1px 0 #fff;
    }

    .main-title {
      font-size: 32px;
      font-weight: 900;
      color: #f97316;
      text-shadow: 2px 2px 0 #fff, 0 0 4px rgba(0,0,0,0.2);
    }

    .big-orange-btn {
      width: 220px;
      height: 220px;
      border-radius: 50%;
      border: none;
      cursor: pointer;
      background: radial-gradient(circle at 30% 20%, #fff7ed 0%, #fed7aa 25%, #f97316 70%, #ea580c 100%);
      box-shadow: 0 10px 18px rgba(0,0,0,0.25);
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.1s, box-shadow 0.1s;
    }
    .big-orange-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 16px 25px rgba(0,0,0,0.28);
    }
    .big-orange-btn span {
      font-size: 32px;
      font-weight: 900;
      color: #fff;
      text-shadow: 0 3px 4px rgba(0,0,0,0.4);
    }

    .menu-numbers {
      display: grid;
      grid-template-columns: repeat(3, 70px);
      grid-auto-rows: 70px;
      gap: 10px 18px;
      justify-items: center;
      align-items: center;
      margin-right: 10px;
    }

    .menu-small-orange {
      width: 70px;
      height: 70px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 20%, #fff7ed 0%, #fed7aa 25%, #f97316 70%, #ea580c 100%);
      box-shadow: 0 6px 10px rgba(0,0,0,0.22);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 22px;
      font-weight: 900;
      color: #7c2d12;
    }

    .bottom-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 14px;
      padding: 0 4px;
      font-size: 13px;
      color: #064e3b;
    }

    .bottom-left button {
      border-radius: 999px;
      border: 2px solid #ffffff;
      background: rgba(22, 163, 74, 0.9);
      color: #fff;
      padding: 6px 16px;
      cursor: pointer;
      font-size: 13px;
      font-weight: 600;
    }
    .bottom-left button:hover {
      background: #16a34a;
    }

    .bottom-right {
      display: flex;
      align-items: center;
      gap: 14px;
      font-size: 13px;
    }
    .check-wrap {
      display: flex;
      align-items: center;
      gap: 4px;
      cursor: pointer;
    }
    .check-wrap input {
      cursor: pointer;
    }
    .music-icon {
      font-size: 18px;
    }

    body.light-mode .frame {
      filter: brightness(1.05) saturate(0.8);
    }

    /* ===== ê²Œì„ í™”ë©´ ===== */

    .game-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
      font-size: 14px;
      color: #065f46;
    }

    .timer-box {
      display: flex;
      flex-direction: column;
      gap: 4px;
      min-width: 180px;
    }

    .timer-bar-bg {
      width: 180px;
      height: 10px;
      border-radius: 999px;
      background: #dcfce7;
      overflow: hidden;
    }

    .timer-bar-fill {
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg,#22c55e,#facc15);
      transform-origin: left;
      transform: scaleX(1);
    }

    .score-box {
      text-align: right;
      font-size: 15px;
      font-weight: 600;
    }

    #gameBoard {
      width: 100%;
      max-width: 720px;
      height: 360px;
      margin: 4px auto 8px;
      background: #ffffff;
      border-radius: 16px;
      box-shadow: inset 0 0 0 2px rgba(22,163,74,0.15);
      display: grid;
      grid-template-columns: repeat(17, 1fr);
      grid-template-rows: repeat(10, 1fr);
      gap: 2px;
      padding: 6px;
      position: relative;
      overflow: hidden;
      touch-action: none;
      user-select: none;
    }

    .cell {
      width: 100%;
      height: 100%;
      border-radius: 10px;
      background: #ffe2bf;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 14px;
      font-weight: 700;
      color: #9a3412;
      transition: background 0.08s;
    }

    .cell.empty {
      background: #f4f4f4;
      cursor: default;
      color: transparent;
    }

    .orange {
      width: 85%;
      height: 85%;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 20%, #fff7ed 0%, #fed7aa 25%, #f97316 70%, #ea580c 100%);
      box-shadow: inset 0 -3px 5px rgba(0,0,0,0.18);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .orange-number {
      font-size: 13px;
      font-weight: 800;
      color: #7c2d12;
      text-shadow: 0 1px 1px rgba(255,255,255,0.5);
    }

    .cell.selected {
      background: #fed7aa;
    }

    #selectionRect {
      position: absolute;
      border: 2px dashed #fb923c;
      background: rgba(254, 215, 170, 0.25);
      pointer-events: none;
      display: none;
      z-index: 10;
    }

    #gameBoard.valid #selectionRect {
      border-color: #22c55e;
      background: rgba(187, 247, 208, 0.35);
    }
    #gameBoard.over10 #selectionRect {
      border-color: #ef4444;
      background: rgba(254, 202, 202, 0.35);
    }

    .game-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 8px;
      font-size: 13px;
      color: #064e3b;
    }

    .btn {
      padding: 6px 16px;
      border-radius: 999px;
      border: none;
      background: #22c55e;
      color: #ffffff;
      cursor: pointer;
      font-size: 13px;
      font-weight: 600;
    }
    .btn:hover { background: #16a34a; }

    .hint { font-size: 12px; color: #166534; }

    .shake {
      animation: shake 0.18s;
    }
    @keyframes shake {
      0% { transform: translateX(0); }
      25% { transform: translateX(-3px); }
      50% { transform: translateX(3px); }
      75% { transform: translateX(-2px); }
      100% { transform: translateX(0); }
    }

    /* ===== ê²Œì„ ì¢…ë£Œ ì˜¤ë²„ë ˆì´ ===== */

    .end-overlay {
      position: absolute;
      inset: 0;
      background: rgba(15,23,42,0.6);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 20;
    }

    .end-card {
      background: #fefce8;
      padding: 20px 24px;
      border-radius: 18px;
      text-align: center;
      max-width: 320px;
      box-shadow: 0 12px 25px rgba(0,0,0,0.35);
    }

    .end-card h2 {
      margin: 0 0 8px;
      font-size: 20px;
      color: #b45309;
    }

    .end-card p {
      margin: 2px 0 12px;
      font-size: 14px;
      color: #44403c;
      line-height: 1.6;
    }

    .end-card .score-big {
      font-size: 26px;
      font-weight: 800;
      margin-bottom: 8px;
      color: #f97316;
    }

    .end-btns {
      display: flex;
      justify-content: center;
      gap: 8px;
      margin-top: 4px;
    }

    .end-btns button {
      padding: 7px 14px;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      font-size: 13px;
      font-weight: 600;
    }

    .end-retry {
      background: #22c55e;
      color: #fff;
    }
    .end-menu {
      background: #e5e7eb;
      color: #111827;
    }
  </style>
</head>
<body>

<div class="frame">
  <div class="inner">

    <!-- ===== ë©”ì¸ ë©”ë‰´ ===== -->
    <div id="menuScreen">
      <div class="menu-layout">
        <div class="title-wrap">
          <div class="main-sub">ì„±í¬ ë³¸ì²™ì²™ ì˜ì› </div>
          <div class="main-title">ê³„ë€ ë°•ìŠ¤</div>

          <button class="big-orange-btn" id="playBtn">
            <span>Play</span>
          </button>
        </div>

        <div class="menu-numbers">
          <div class="menu-small-orange">5</div>
          <div class="menu-small-orange">7</div>
          <div class="menu-small-orange">6</div>
          <div class="menu-small-orange">8</div>
          <div class="menu-small-orange">3</div>
          <div class="menu-small-orange">2</div>
          <div class="menu-small-orange">9</div>
          <div class="menu-small-orange">1</div>
          <div class="menu-small-orange">4</div>
        </div>
      </div>

      <div class="bottom-bar">
        <div class="bottom-left">
          <button id="menuResetBtn">Reset</button>
        </div>
        <div class="bottom-right">
          <label class="check-wrap">
            <input type="checkbox" id="lightToggle" />
            <span>ì—°í•œ ìƒ‰</span>
          </label>
          <label class="check-wrap">
            <input type="checkbox" id="bgmToggle" />
            <span>BGM</span>
          </label>
          <span class="music-icon">ğŸµ</span>
        </div>
      </div>
    </div>

    <!-- ===== ê²Œì„ í™”ë©´ ===== -->
    <div id="gameScreen" class="hidden">
      <div class="game-header">
        <div class="timer-box">
          <div>ë‚¨ì€ ì‹œê°„: <span id="timeLabel">120.0ì´ˆ</span></div>
          <div class="timer-bar-bg">
            <div class="timer-bar-fill" id="timeBar"></div>
          </div>
        </div>
        <div class="score-box">
          ì ìˆ˜: <span id="scoreLabel">0</span>ì <br/>
          ì„ íƒ í•©: <span id="sumLabel">0</span>
        </div>
      </div>

      <div id="gameBoard">
        <div id="selectionRect"></div>
      </div>

      <div class="game-footer">
        <div>
          <button class="btn" id="resetGameBtn">ë‹¤ì‹œ ì‹œì‘</button>
          <button class="btn" id="backMenuBtn" style="margin-left:6px;">ë©”ë‰´ë¡œ</button>
        </div>
        <div class="hint">
          ë“œë˜ê·¸í•´ì„œ ìˆ«ìë“¤ì„ ì„ íƒí•´ <strong>í•©ì´ 10</strong>ì´ ë˜ë©´ ì˜¤ë Œì§€ê°€ ì‚¬ë¼ì ¸ìš”!
        </div>
      </div>

      <!-- ì¢…ë£Œ ì˜¤ë²„ë ˆì´ -->
      <div id="endOverlay" class="end-overlay hidden" style="display:none;">
        <div class="end-card">
          <h2>ì‹œê°„ ì¢…ë£Œ!</h2>
          <div class="score-big" id="finalScoreText">0ì </div>
          <p>
            2ë¶„ ë™ì•ˆ ë§Œë“  ì´ ì ìˆ˜ì…ë‹ˆë‹¤.<br/>
            ë‹¤ì‹œ ë„ì „í•´ì„œ ê¸°ë¡ì„ ê°±ì‹ í•´ ë³¼ê¹Œìš”?
          </p>
          <div class="end-btns">
            <button class="end-retry" id="retryBtn">ë‹¤ì‹œ í”Œë ˆì´</button>
            <button class="end-menu" id="endMenuBtn">ë©”ë‰´ë¡œ</button>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>

<script>
  // ===== ìƒìˆ˜ =====
  const ROWS = 10;
  const COLS = 17;
  const TOTAL_TIME_MS = 120000; // 2ë¶„

  // ===== ìƒíƒœ =====
  let board = [];
  let cellElements = []; // â˜… ê° ì¹¸ DOM ìºì‹±

  let score = 0;
  let currentSum = 0;

  let dragging = false;
  let dragStartCell = null;
  let dragCurrentCell = null;

  let gameActive = false;
  let timeRemaining = TOTAL_TIME_MS;
  let timerInterval = null;

  let bgmEnabled = false;

  // ===== DOM =====
  const menuScreen = document.getElementById("menuScreen");
  const gameScreen = document.getElementById("gameScreen");
  const endOverlay = document.getElementById("endOverlay");

  const playBtn = document.getElementById("playBtn");
  const menuResetBtn = document.getElementById("menuResetBtn");
  const lightToggle = document.getElementById("lightToggle");
  const bgmToggle = document.getElementById("bgmToggle");

  const gameBoardEl = document.getElementById("gameBoard");
  const selectionRectEl = document.getElementById("selectionRect");
  const scoreLabel = document.getElementById("scoreLabel");
  const sumLabel = document.getElementById("sumLabel");
  const timeLabel = document.getElementById("timeLabel");
  const timeBar = document.getElementById("timeBar");
  const finalScoreText = document.getElementById("finalScoreText");

  const resetGameBtn = document.getElementById("resetGameBtn");
  const backMenuBtn = document.getElementById("backMenuBtn");
  const retryBtn = document.getElementById("retryBtn");
  const endMenuBtn = document.getElementById("endMenuBtn");

  // ===== í™”ë©´ ì „í™˜ =====
  function showMenu() {
    stopTimer();
    gameActive = false;
    menuScreen.classList.remove("hidden");
    gameScreen.classList.add("hidden");
    hideEndOverlay();
  }

  function showGame() {
    menuScreen.classList.add("hidden");
    gameScreen.classList.remove("hidden");
    hideEndOverlay();
  }

  function showEndOverlay() {
    endOverlay.classList.remove("hidden");
    endOverlay.style.display = "flex";
  }

  function hideEndOverlay() {
    endOverlay.classList.add("hidden");
    endOverlay.style.display = "none";
  }

  // ===== ë³´ë“œ =====
  function initBoard() {
    board = [];
    for (let r = 0; r < ROWS; r++) {
      const row = [];
      for (let c = 0; c < COLS; c++) {
        const num = Math.floor(Math.random() * 9) + 1; // 1~9
        row.push(num);
      }
      board.push(row);
    }
  }

  function renderBoard() {
    const oldRect = selectionRectEl;
    gameBoardEl.innerHTML = "";
    gameBoardEl.appendChild(oldRect);

    // â˜… ì…€ DOM ìºì‹±ìš© 2ì°¨ì› ë°°ì—´ ì´ˆê¸°í™”
    cellElements = Array.from({ length: ROWS }, () => Array(COLS).fill(null));

    for (let r = 0; r < ROWS; r++) {
      for (let c = 0; c < COLS; c++) {
        const v = board[r][c];
        const cell = document.createElement("div");
        cell.classList.add("cell");
        cell.dataset.row = r;
        cell.dataset.col = c;

        if (v === 0) {
          cell.classList.add("empty");
        } else {
          const orange = document.createElement("div");
          orange.classList.add("orange");
          const numEl = document.createElement("div");
          numEl.classList.add("orange-number");
          numEl.textContent = v;
          orange.appendChild(numEl);
          cell.appendChild(orange);
        }
        cellElements[r][c] = cell; // â˜… ìºì‹±
        gameBoardEl.appendChild(cell);
      }
    }
  }

  function updateScoreUI() {
    scoreLabel.textContent = score;
    sumLabel.textContent = currentSum;
  }

  // ===== íƒ€ì´ë¨¸ =====
  function startTimer() {
    if (timerInterval) clearInterval(timerInterval);

    timerInterval = setInterval(() => {
      if (!gameActive) return;

      timeRemaining -= 100;
      if (timeRemaining <= 0) {
        timeRemaining = 0;
        updateTimerUI();
        endGame();
      } else {
        updateTimerUI();
      }
    }, 100);
  }

  function stopTimer() {
    if (timerInterval) {
      clearInterval(timerInterval);
      timerInterval = null;
    }
  }

  function updateTimerUI() {
    const sec = (timeRemaining / 1000).toFixed(1);
    timeLabel.textContent = sec + "ì´ˆ";
    const ratio = timeRemaining / TOTAL_TIME_MS;
    timeBar.style.transform = `scaleX(${ratio})`;
  }

  // ===== ê²Œì„ ì‹œì‘/ì¢…ë£Œ =====
  function startGame() {
    stopTimer();
    hideEndOverlay();

    initBoard();
    renderBoard();

    score = 0;
    currentSum = 0;
    timeRemaining = TOTAL_TIME_MS;
    gameActive = true;

    updateScoreUI();
    updateTimerUI();

    startTimer();
  }

  function endGame() {
    if (!gameActive) return;
    gameActive = false;
    stopTimer();
    clearSelection();

    finalScoreText.textContent = score + "ì ";
    showEndOverlay();
  }

  // ===== ì„ íƒ ìœ í‹¸ =====
  function getCellFromEvent(e) {
    const target = e.target.closest(".cell");
    if (!target || !gameBoardEl.contains(target)) return null;
    const r = parseInt(target.dataset.row, 10);
    const c = parseInt(target.dataset.col, 10);
    if (Number.isNaN(r) || Number.isNaN(c)) return null;
    return { r, c };
  }

  function getSelectedCells() {
    if (!dragStartCell || !dragCurrentCell) return [];
    const r1 = Math.min(dragStartCell.r, dragCurrentCell.r);
    const r2 = Math.max(dragStartCell.r, dragCurrentCell.r);
    const c1 = Math.min(dragStartCell.c, dragCurrentCell.c);
    const c2 = Math.max(dragStartCell.c, dragCurrentCell.c);
    const cells = [];
    for (let r = r1; r <= r2; r++) {
      for (let c = c1; c <= c2; c++) {
        if (board[r][c] !== 0) {
          cells.push({ r, c });
        }
      }
    }
    return cells;
  }

  function updateSelection() {
    const cells = getSelectedCells();
    currentSum = cells.reduce((sum, { r, c }) => sum + board[r][c], 0);
    updateScoreUI();

    // â˜… ëª¨ë“  ì…€ì—ì„œ selected ì œê±° (DOM ìºì‹± ì‚¬ìš©)
    for (let r = 0; r < ROWS; r++) {
      for (let c = 0; c < COLS; c++) {
        const el = cellElements[r][c];
        if (el) el.classList.remove("selected");
      }
    }

    // ì„ íƒëœ ì…€ë§Œ selected ì¶”ê°€
    cells.forEach(({ r, c }) => {
      const el = cellElements[r][c];
      if (el) el.classList.add("selected");
    });

    gameBoardEl.classList.remove("valid", "over10");

    if (!dragStartCell || !dragCurrentCell || cells.length === 0) {
      selectionRectEl.style.display = "none";
      return;
    }

    const boardRect = gameBoardEl.getBoundingClientRect();
    const startEl = cellElements[dragStartCell.r][dragStartCell.c];
    const endEl   = cellElements[dragCurrentCell.r][dragCurrentCell.c];
    if (!startEl || !endEl) return;

    const sRect = startEl.getBoundingClientRect();
    const eRect = endEl.getBoundingClientRect();

    const left   = Math.min(sRect.left,  eRect.left)  - boardRect.left;
    const top    = Math.min(sRect.top,   eRect.top)   - boardRect.top;
    const right  = Math.max(sRect.right, eRect.right) - boardRect.left;
    const bottom = Math.max(sRect.bottom,eRect.bottom)- boardRect.top;

    selectionRectEl.style.left   = left + "px";
    selectionRectEl.style.top    = top + "px";
    selectionRectEl.style.width  = (right - left) + "px";
    selectionRectEl.style.height = (bottom - top) + "px";
    selectionRectEl.style.display = "block";

    if (currentSum === 10 && cells.length > 0) {
      gameBoardEl.classList.add("valid");
    } else if (currentSum > 10) {
      gameBoardEl.classList.add("over10");
    }
  }

  function clearSelection() {
    dragStartCell = null;
    dragCurrentCell = null;
    currentSum = 0;
    updateScoreUI();

    for (let r = 0; r < ROWS; r++) {
      for (let c = 0; c < COLS; c++) {
        const el = cellElements[r][c];
        if (el) el.classList.remove("selected");
      }
    }

    selectionRectEl.style.display = "none";
    gameBoardEl.classList.remove("valid", "over10");
  }

  // ===== í¬ì¸í„° ì´ë²¤íŠ¸ =====
  function onPointerDown(e) {
    if (!gameActive) return;
    const cell = getCellFromEvent(e);
    if (!cell) return;
    if (board[cell.r][cell.c] === 0) return;

    e.preventDefault();
    dragging = true;
    dragStartCell = { r: cell.r, c: cell.c };
    dragCurrentCell = { r: cell.r, c: cell.c };
    updateSelection();
  }

  function onPointerMove(e) {
    if (!dragging || !gameActive) return;
    const cell = getCellFromEvent(e);
    if (!cell) return;

    // â˜… ê°™ì€ ì¹¸ì´ë©´ ì—°ì‚° ìƒëµ â†’ ë¶ˆí•„ìš”í•œ updateSelection ë°©ì§€
    if (dragCurrentCell &&
        dragCurrentCell.r === cell.r &&
        dragCurrentCell.c === cell.c) {
      return;
    }

    dragCurrentCell = { r: cell.r, c: cell.c };
    updateSelection();
  }

  function onPointerUp() {
    if (!dragging) return;
    dragging = false;

    if (!gameActive) {
      clearSelection();
      return;
    }

    if (currentSum === 10) {
      const cells = getSelectedCells();
      if (cells.length > 0) {
        cells.forEach(({ r, c }) => board[r][c] = 0);
        score += cells.length; // ì ìˆ˜ = ì„ íƒí•œ ì˜¤ë Œì§€ ê°œìˆ˜
      }
    } else if (currentSum > 10) {
      gameBoardEl.classList.add("shake");
      setTimeout(() => gameBoardEl.classList.remove("shake"), 200);
    }

    currentSum = 0;
    updateScoreUI();
    clearSelection();
    renderBoard(); // í•œ ë²ˆë§Œ ì „ì²´ ë¦¬ë Œë”
  }

  // ===== ë²„íŠ¼/í† ê¸€ ì´ë²¤íŠ¸ =====
  playBtn.addEventListener("click", () => {
    showGame();
    startGame();
  });

  menuResetBtn.addEventListener("click", () => {
    showGame();
    startGame();
  });

  lightToggle.addEventListener("change", (e) => {
    if (e.target.checked) {
      document.body.classList.add("light-mode");
    } else {
      document.body.classList.remove("light-mode");
    }
  });

  bgmToggle.addEventListener("change", (e) => {
    bgmEnabled = e.target.checked;
  });

  resetGameBtn.addEventListener("click", startGame);
  backMenuBtn.addEventListener("click", showMenu);
  retryBtn.addEventListener("click", () => {
    hideEndOverlay();
    startGame();
  });
  endMenuBtn.addEventListener("click", showMenu);

  gameBoardEl.addEventListener("pointerdown", onPointerDown);
  gameBoardEl.addEventListener("pointermove", onPointerMove);
  window.addEventListener("pointerup", onPointerUp);

  // ì‹œì‘ì€ ë©”ë‰´ í™”ë©´
  showMenu();
</script>

</body>
</html>

