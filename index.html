<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ê³„ë€ ë°•ìŠ¤ â€“ í•©ì´ 10ì´ ë˜ë©´ ì‚¬ë¼ì§€ëŠ” ê²Œì„</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      min-height: 100vh;
      background: #e5ffe7;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
    }

    .layout {
      display: flex;
      gap: 24px;
      align-items: flex-start;
      max-width: 1240px;
      width: 100%;
      justify-content: center;
    }

    @media (max-width: 900px) {
      .layout {
        flex-direction: column;
        align-items: center;
      }
    }

    .frame {
      width: 900px;
      max-width: 100%;
      background: #22c55e;
      border-radius: 30px;
      padding: 18px;
      box-shadow: 0 15px 30px rgba(0,0,0,0.25);
    }

    .inner {
      background-image: repeating-linear-gradient(
        45deg,
        #f1ffe8 0,
        #f1ffe8 12px,
        #e9fbdc 12px,
        #e9fbdc 24px
      );
      border-radius: 20px;
      padding: 24px 28px 20px;
      position: relative;
      min-height: 520px;
      overflow: hidden;
    }

    .hidden { display: none !important; }

    /* ===== ë©”ë‰´ í™”ë©´ ===== */

    .menu-layout {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 20px;
    }

    .title-wrap {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      gap: 16px;
    }

    .main-sub {
      font-size: 18px;
      font-weight: 700;
      color: #16a34a;
      text-shadow: 1px 1px 0 #fff;
    }

    .main-title {
      font-size: 32px;
      font-weight: 900;
      color: #f97316;
      text-shadow: 2px 2px 0 #fff, 0 0 4px rgba(0,0,0,0.2);
    }

    .big-orange-btn {
      width: 220px;
      height: 220px;
      border-radius: 50%;
      border: none;
      cursor: pointer;
      background: radial-gradient(circle at 30% 20%, #fff7ed 0%, #fed7aa 25%, #f97316 70%, #ea580c 100%);
      box-shadow: 0 10px 18px rgba(0,0,0,0.25);
      display: flex;
      align-items: center;
      justify-content: center;
      transition: 0.15s;
    }
    .big-orange-btn:hover { transform: translateY(-3px); }
    .big-orange-btn span {
      font-size: 32px;
      font-weight: 900;
      color: white;
      text-shadow: 0 3px 4px rgba(0,0,0,0.4);
    }

    .menu-right {
      display:flex;
      flex-direction:column;
      gap:16px;
      align-items:flex-start;
    }

    .menu-numbers {
      display: grid;
      grid-template-columns: repeat(3, 70px);
      grid-auto-rows: 70px;
      gap: 12px;
    }

    .menu-small-orange {
      width: 70px;
      height: 70px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 20%, #fff7ed 0%, #fed7aa 25%, #f97316 70%, #ea580c 100%);
      box-shadow: 0 6px 10px rgba(0,0,0,0.22);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 22px;
      font-weight: 900;
      color: #7c2d12;
    }

    .bottom-bar {
      display: flex;
      justify-content: space-between;
      margin-top: 16px;
      font-size: 13px;
      align-items:flex-end;
      gap:16px;
    }

    .bottom-left button {
      background: #16a34a;
      color: white;
      border-radius: 20px;
      border: none;
      padding: 6px 14px;
      cursor: pointer;
    }

    /* í•˜ì´ìŠ¤ì½”ì–´ ë°•ìŠ¤ */
    .highscore-box {
      background:#ecfdf5;
      border-radius:14px;
      padding:10px 12px;
      border:1px solid #bbf7d0;
      font-size:12px;
      color:#166534;
      flex:1;
      text-align:left;
    }
    .highscore-title {
      font-weight:700;
      margin-bottom:4px;
      display:flex;
      align-items:center;
      gap:4px;
    }
    #highScoreList {
      margin:0;
      padding-left:18px;
    }
    #highScoreList li { margin:2px 0; }

    /* ===== ê²Œì„ í™”ë©´ ===== */

    .game-header {
      display: flex;
      justify-content: space-between;
      font-size: 14px;
      margin-bottom: 8px;
      color: #065f46;
    }

    .timer-box {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .timer-bar-bg {
      width: 180px;
      height: 10px;
      background: #dcfce7;
      border-radius: 999px;
    }
    .timer-bar-fill {
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg,#22c55e,#facc15);
      transform-origin: left;
    }

    #gameBoard {
      width: 100%;
      max-width: 720px;
      height: 360px;
      margin: 6px auto;
      background: white;
      border-radius: 16px;
      padding: 6px;
      display: grid;
      grid-template-columns: repeat(17, 1fr);
      grid-template-rows: repeat(10, 1fr);
      gap: 2px;
      position: relative;
      user-select: none;
    }

    .cell {
      background: #ffe2bf;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
    }
    .cell.empty {
      background: #f4f4f4;
      color: transparent;
    }
    .cell.selected {
      background: #fed7aa;
    }

    .orange {
      width: 85%;
      height: 85%;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 20%, #fff7ed 0%, #fed7aa 25%, #f97316 70%, #ea580c 100%);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .orange-number {
      font-size: 13px;
      font-weight: 800;
      color: #7c2d12;
    }

    #selectionRect {
      position: absolute;
      border: 2px dashed #fb923c;
      background: rgba(254,215,170,0.25);
      display: none;
      pointer-events: none;
      z-index: 10;
    }

    #gameBoard.valid #selectionRect {
      border-color: #22c55e;
      background: rgba(187,247,208,0.35);
    }
    #gameBoard.over10 #selectionRect {
      border-color: red;
      background: rgba(254,202,202,0.4);
    }

    .game-footer {
      display: flex;
      justify-content: space-between;
      margin-top: 8px;
      font-size: 13px;
    }

    .btn {
      background: #22c55e;
      color: white;
      border-radius: 20px;
      padding: 6px 14px;
      border: none;
      cursor: pointer;
    }

    .coupang-wrap {
      width: 320px;
      text-align:center;
    }

    .coupang-notice {
      font-size:12px;
      color:#666;
      line-height:1.4;
    }

    .end-overlay {
      position: absolute;
      inset: 0;
      background: rgba(0,0,0,0.4);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .end-card {
      background: #fefce8;
      padding: 20px;
      border-radius: 18px;
      text-align: center;
      width: 260px;
      box-shadow:0 8px 16px rgba(0,0,0,0.25);
    }

    .highscore-form-title {
      margin-top:10px;
      font-size:13px;
      font-weight:600;
      color:#16a34a;
    }

    .highscore-input {
      margin-top:6px;
      width:100%;
      padding:6px 8px;
      border-radius:10px;
      border:1px solid #ddd;
      font-size:13px;
      box-sizing:border-box;
    }
  </style>
</head>
<body>

<div class="layout">

  <div class="frame">
    <div class="inner">

      <!-- ===== ë©”ë‰´ í™”ë©´ ===== -->
      <div id="menuScreen">
        <div class="menu-layout">
          <div class="title-wrap">
            <div class="main-sub">ì„±í¬ ë³¸ì²™ì²™</div>
            <div class="main-title">ê³„ë€ ë°•ìŠ¤</div>

            <button id="playBtn" class="big-orange-btn">
              <span>Play</span>
            </button>
          </div>

          <div class="menu-right">
            <div class="menu-numbers">
              <div class="menu-small-orange">5</div>
              <div class="menu-small-orange">7</div>
              <div class="menu-small-orange">6</div>
              <div class="menu-small-orange">8</div>
              <div class="menu-small-orange">3</div>
              <div class="menu-small-orange">2</div>
              <div class="menu-small-orange">9</div>
              <div class="menu-small-orange">1</div>
              <div class="menu-small-orange">4</div>
            </div>
          </div>
        </div>

        <div class="bottom-bar">
          <div class="bottom-left">
            <button id="menuResetBtn">Reset</button>
          </div>

          <div class="highscore-box">
            <div class="highscore-title">
              <span>ğŸ†</span><span>ìµœê³  ê¸°ë¡ TOP 5</span>
            </div>
            <ol id="highScoreList"></ol>
          </div>
        </div>
      </div>

      <!-- ===== ê²Œì„ í™”ë©´ ===== -->
      <div id="gameScreen" class="hidden">

        <div class="game-header">
          <div class="timer-box">
            <span>ë‚¨ì€ ì‹œê°„: <span id="timeLabel">120.0ì´ˆ</span></span>
            <div class="timer-bar-bg">
              <div class="timer-bar-fill" id="timeBar"></div>
            </div>
          </div>

          <div class="score-box">
            ì ìˆ˜: <span id="scoreLabel">0</span>ì  <br>
            ì„ íƒ í•©: <span id="sumLabel">0</span>
          </div>
        </div>

        <div id="gameBoard">
          <div id="selectionRect"></div>
        </div>

        <div class="game-footer">
          <div>
            <button class="btn" id="resetGameBtn">ë‹¤ì‹œ ì‹œì‘</button>
            <button class="btn" id="backMenuBtn">ë©”ë‰´ë¡œ</button>
          </div>
          <div>ë“œë˜ê·¸í•´ì„œ í•©ì´ 10 ë˜ë©´ ì‚¬ë¼ì§!</div>
        </div>

        <div id="endOverlay" class="end-overlay hidden">
          <div class="end-card">
            <h2>ì‹œê°„ ì¢…ë£Œ!</h2>
            <div id="finalScoreText" style="font-size:26px;font-weight:800;color:#f97316;">0ì </div>
            <p style="margin:6px 0 4px;">ë‹¤ì‹œ ë„ì „í•´ë³´ì„¸ìš”!</p>

            <div id="highScoreForm" class="hidden">
              <div class="highscore-form-title">ìƒˆë¡œìš´ ìµœê³  ê¸°ë¡ì…ë‹ˆë‹¤! ì´ë¦„ì„ ë‚¨ê²¨ë³´ì„¸ìš” ğŸ†</div>
              <input id="highScoreNameInput" class="highscore-input" type="text" maxlength="8" placeholder="ì´ë¦„ (ìµœëŒ€ 8ê¸€ì)">
              <button class="btn" id="saveHighScoreBtn" style="width:100%;margin-top:6px;">ì €ì¥</button>
            </div>

            <div style="margin-top:10px;display:flex;gap:8px;justify-content:center;">
              <button class="btn" id="retryBtn">ë‹¤ì‹œ í”Œë ˆì´</button>
              <button class="btn" id="endMenuBtn" style="background:#ccc;color:#111;">ë©”ë‰´ë¡œ</button>
            </div>
          </div>
        </div>

      </div>

    </div>
  </div>

  <div class="coupang-wrap">
    <!-- í•„ìš”í•˜ë©´ ì¿ íŒ¡ ìŠ¤í¬ë¦½íŠ¸ ë‹¤ì‹œ ë„£ê¸° -->
  </div>

</div>

<div style="width:100%;max-width:1240px;margin:24px auto 0;text-align:center;font-size:12px;color:#666;">
  â€» ì´ ê²Œì„ì€ ì¿ íŒ¡ íŒŒíŠ¸ë„ˆìŠ¤ í™œë™ì˜ ì¼í™˜ìœ¼ë¡œ ì´ì— ë”°ë¥¸ ì¼ì •ì•¡ì˜ ìˆ˜ìˆ˜ë£Œë¥¼ ì œê³µë°›ìŠµë‹ˆë‹¤.
</div>

<script>
  const ROWS = 10;
  const COLS = 17;
  const TOTAL_TIME_MS = 120000;

  // â˜… ë³¸ì¸ Apps Script ì›¹ì•± URL
  const API_URL = "https://script.google.com/macros/s/AKfycbxUYwBX5y52suUKjl4Sk3YpA1Nopko5lMo-HQZkCgUSmh1uQ4g655J55WQUG6JW4xX7/exec";

  let board = [];
  let cellElements = [];

  let score = 0;
  let currentSum = 0;

  let dragging = false;
  let dragStartCell = null;
  let dragCurrentCell = null;

  let gameActive = false;
  let timeRemaining = TOTAL_TIME_MS;
  let timerInterval = null;

  // ì„œë²„ ë­í‚¹
  let highScores = []; // {name, score, timestamp}

  const menuScreen = document.getElementById("menuScreen");
  const gameScreen = document.getElementById("gameScreen");
  const endOverlay = document.getElementById("endOverlay");

  const playBtn = document.getElementById("playBtn");
  const menuResetBtn = document.getElementById("menuResetBtn");

  const gameBoardEl = document.getElementById("gameBoard");
  const selectionRectEl = document.getElementById("selectionRect");

  const scoreLabel = document.getElementById("scoreLabel");
  const sumLabel = document.getElementById("sumLabel");
  const timeLabel = document.getElementById("timeLabel");
  const timeBar = document.getElementById("timeBar");

  const finalScoreText = document.getElementById("finalScoreText");

  const resetGameBtn = document.getElementById("resetGameBtn");
  const backMenuBtn = document.getElementById("backMenuBtn");
  const retryBtn = document.getElementById("retryBtn");
  const endMenuBtn = document.getElementById("endMenuBtn");

  const highScoreListEl = document.getElementById("highScoreList");
  const highScoreFormEl = document.getElementById("highScoreForm");
  const highScoreNameInputEl = document.getElementById("highScoreNameInput");
  const saveHighScoreBtn = document.getElementById("saveHighScoreBtn");

  /* ---------- í™”ë©´ ì „í™˜ ---------- */
  function showMenu() {
    menuScreen.classList.remove("hidden");
    gameScreen.classList.add("hidden");
    hideEndOverlay();
    stopTimer();
  }

  function showGame() {
    menuScreen.classList.add("hidden");
    gameScreen.classList.remove("hidden");
    hideEndOverlay();
  }

  function showEndOverlay() {
    endOverlay.classList.remove("hidden");
  }

  function hideEndOverlay() {
    endOverlay.classList.add("hidden");
    hideHighScoreForm();
  }

  /* ---------- ë³´ë“œ ---------- */
  function initBoard() {
    board = [];
    for (let r = 0; r < ROWS; r++) {
      const row = [];
      for (let c = 0; c < COLS; c++) {
        row.push(Math.floor(Math.random() * 9) + 1);
      }
      board.push(row);
    }
  }

  function renderBoard() {
    const oldRect = selectionRectEl;
    gameBoardEl.innerHTML = "";
    gameBoardEl.appendChild(oldRect);

    cellElements = Array.from({ length: ROWS }, () => Array(COLS));

    for (let r = 0; r < ROWS; r++) {
      for (let c = 0; c < COLS; c++) {
        const v = board[r][c];
        const cell = document.createElement("div");
        cell.classList.add("cell");
        cell.dataset.row = r;
        cell.dataset.col = c;

        if (v === 0) {
          cell.classList.add("empty");
        } else {
          const orange = document.createElement("div");
          orange.classList.add("orange");
          const numEl = document.createElement("div");
          numEl.classList.add("orange-number");
          numEl.textContent = v;
          orange.appendChild(numEl);
          cell.appendChild(orange);
        }

        cellElements[r][c] = cell;
        gameBoardEl.appendChild(cell);
      }
    }
  }

  function updateScoreUI() {
    scoreLabel.textContent = score;
    sumLabel.textContent = currentSum;
  }

  /* ---------- íƒ€ì´ë¨¸ ---------- */
  function startTimer() {
    if (timerInterval) clearInterval(timerInterval);

    timerInterval = setInterval(() => {
      if (!gameActive) return;

      timeRemaining -= 100;
      if (timeRemaining <= 0) {
        timeRemaining = 0;
        endGame();
      }
      updateTimerUI();
    }, 100);
  }

  function stopTimer() {
    if (timerInterval) {
      clearInterval(timerInterval);
      timerInterval = null;
    }
  }

  function updateTimerUI() {
    timeLabel.textContent = (timeRemaining / 1000).toFixed(1) + "ì´ˆ";
    timeBar.style.transform = `scaleX(${timeRemaining / TOTAL_TIME_MS})`;
  }

  /* ---------- ê²Œì„ ì‹œì‘/ì¢…ë£Œ ---------- */
  function startGame() {
    hideEndOverlay();
    stopTimer();

    initBoard();
    renderBoard();

    score = 0;
    currentSum = 0;
    timeRemaining = TOTAL_TIME_MS;
    gameActive = true;

    updateScoreUI();
    updateTimerUI();
    startTimer();
  }

  function endGame() {
    gameActive = false;
    stopTimer();
    finalScoreText.textContent = score + "ì ";

    if (isNewHighScore(score)) {
      showHighScoreForm();
    } else {
      hideHighScoreForm();
    }

    showEndOverlay();
  }

  /* ---------- ë“œë˜ê·¸ ì„ íƒ ---------- */
  function getCellFromEvent(e) {
    const t = e.target.closest(".cell");
    if (!t) return null;
    return {
      r: parseInt(t.dataset.row),
      c: parseInt(t.dataset.col)
    };
  }

  function getSelectedCells() {
    if (!dragStartCell || !dragCurrentCell) return [];

    const r1 = Math.min(dragStartCell.r, dragCurrentCell.r);
    const r2 = Math.max(dragStartCell.r, dragCurrentCell.r);
    const c1 = Math.min(dragStartCell.c, dragCurrentCell.c);
    const c2 = Math.max(dragStartCell.c, dragCurrentCell.c);

    const arr = [];
    for (let r = r1; r <= r2; r++) {
      for (let c = c1; c <= c2; c++) {
        if (board[r][c] !== 0) arr.push({ r, c });
      }
    }
    return arr;
  }

  function updateSelection() {
    const cells = getSelectedCells();
    currentSum = cells.reduce((a, { r, c }) => a + board[r][c], 0);

    updateScoreUI();

    for (let r = 0; r < ROWS; r++) {
      for (let c = 0; c < COLS; c++) {
        cellElements[r][c].classList.remove("selected");
      }
    }

    cells.forEach(({ r, c }) => {
      cellElements[r][c].classList.add("selected");
    });

    if (!dragStartCell || !dragCurrentCell) {
      selectionRectEl.style.display = "none";
      return;
    }

    const sEl = cellElements[dragStartCell.r][dragStartCell.c];
    const eEl = cellElements[dragCurrentCell.r][dragCurrentCell.c];

    const boardRect = gameBoardEl.getBoundingClientRect();
    const sRect = sEl.getBoundingClientRect();
    const eRect = eEl.getBoundingClientRect();

    const left = Math.min(sRect.left, eRect.left) - boardRect.left;
    const top = Math.min(sRect.top, eRect.top) - boardRect.top;
    const right = Math.max(sRect.right, eRect.right) - boardRect.left;
    const bottom = Math.max(sRect.bottom, eRect.bottom) - boardRect.top;

    selectionRectEl.style.display = "block";
    selectionRectEl.style.left = left + "px";
    selectionRectEl.style.top = top + "px";
    selectionRectEl.style.width = (right - left) + "px";
    selectionRectEl.style.height = (bottom - top) + "px";

    gameBoardEl.classList.remove("valid", "over10");
    if (currentSum === 10) gameBoardEl.classList.add("valid");
    else if (currentSum > 10) gameBoardEl.classList.add("over10");
  }

  function clearSelection() {
    dragStartCell = null;
    dragCurrentCell = null;
    currentSum = 0;
    updateScoreUI();
    selectionRectEl.style.display = "none";

    for (let r = 0; r < ROWS; r++) {
      for (let c = 0; c < COLS; c++) {
        cellElements[r][c].classList.remove("selected");
      }
    }

    gameBoardEl.classList.remove("valid", "over10");
  }

  function onPointerDown(e) {
    if (!gameActive) return;
    const cell = getCellFromEvent(e);
    if (!cell || board[cell.r][cell.c] === 0) return;

    dragging = true;
    dragStartCell = cell;
    dragCurrentCell = cell;
    updateSelection();
  }

  function onPointerMove(e) {
    if (!dragging || !gameActive) return;

    const cell = getCellFromEvent(e);
    if (!cell) return;

    if (dragCurrentCell.r === cell.r && dragCurrentCell.c === cell.c) return;

    dragCurrentCell = cell;
    updateSelection();
  }

  function onPointerUp() {
    if (!dragging) return;
    dragging = false;

    if (currentSum === 10) {
      const cells = getSelectedCells();
      cells.forEach(({ r, c }) => board[r][c] = 0);
      score += cells.length;
    }

    clearSelection();
    renderBoard();
  }

  /* ---------- êµ¬ê¸€ ì‹œíŠ¸ ë­í‚¹ ---------- */

  // ì„œë²„ì—ì„œ ë­í‚¹ ê°€ì ¸ì˜¤ê¸°
  async function fetchHighScores() {
    try {
      const res = await fetch(API_URL);
      const text = await res.text();

      let data;
      try {
        data = JSON.parse(text);
      } catch (e) {
        console.error("JSON parse error:", text);
        return;
      }

      if (data.status === "ok" && Array.isArray(data.records)) {
        highScores = data.records;
      }
    } catch (e) {
      console.error("fetchHighScores error", e);
    }
    renderHighScores();
  }

  function renderHighScores() {
    highScoreListEl.innerHTML = "";

    if (!highScores.length) {
      const li = document.createElement("li");
      li.textContent = "ì•„ì§ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤. ì²« ê¸°ë¡ì˜ ì£¼ì¸ê³µì´ ë˜ì–´ë³´ì„¸ìš”!";
      highScoreListEl.appendChild(li);
      return;
    }

    [...highScores].sort((a, b) => b.score - a.score).slice(0, 5).forEach((rec) => {
      const li = document.createElement("li");
      const name = rec.name || "ë¬´ëª…";
      li.textContent = `${name} â€“ ${rec.score}ì `;
      highScoreListEl.appendChild(li);
    });
  }

  function isNewHighScore(newScore) {
    if (newScore <= 0) return false;
    if (!highScores.length) return true;

    const sorted = [...highScores].sort((a, b) => b.score - a.score);
    if (sorted.length < 5) return true;

    const minScore = sorted[sorted.length - 1].score;
    return newScore > minScore;
  }

  function showHighScoreForm() {
    highScoreFormEl.classList.remove("hidden");
    highScoreNameInputEl.value = "";
    highScoreNameInputEl.focus();
  }

  function hideHighScoreForm() {
    highScoreFormEl.classList.add("hidden");
  }

  // â˜… ì—¬ê¸°ì„œ í•µì‹¬: ë¨¼ì € í™”ë©´ì—ì„œ TOP5 ì—…ë°ì´íŠ¸ â†’ ê·¸ ë‹¤ìŒ ì„œë²„ë¡œ ì „ì†¡
  async function saveCurrentScoreToHighScores() {
    const name = highScoreNameInputEl.value.trim() || "ë¬´ëª…";

    // 1) í™”ë©´ì—ì„œ ë¨¼ì € ì—…ë°ì´íŠ¸
    const newRecord = { name, score, timestamp: Date.now() };
    highScores.push(newRecord);
    highScores.sort((a, b) => b.score - a.score);
    highScores = highScores.slice(0, 5);
    renderHighScores();

    // 2) ì„œë²„(êµ¬ê¸€ ì‹œíŠ¸)ì— ì „ì†¡ â€“ ì‹¤íŒ¨í•´ë„ ê²Œì„ì€ ê·¸ëŒ€ë¡œ ë™ì‘
    try {
      await fetch(API_URL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ name, score })
      });
    } catch (e) {
      console.error("saveCurrentScore error", e);
    }

    hideHighScoreForm();
  }

  /* ---------- ì´ë²¤íŠ¸ ë°”ì¸ë”© ---------- */
  playBtn.onclick = () => {
    showGame();
    startGame();
  };
  menuResetBtn.onclick = () => {
    showGame();
    startGame();
  };

  resetGameBtn.onclick = startGame;
  backMenuBtn.onclick = showMenu;
  retryBtn.onclick = () => {
    hideEndOverlay();
    startGame();
  };
  endMenuBtn.onclick = showMenu;

  saveHighScoreBtn.onclick = () => {
    saveCurrentScoreToHighScores();
  };

  gameBoardEl.addEventListener("pointerdown", onPointerDown);
  gameBoardEl.addEventListener("pointermove", onPointerMove);
  window.addEventListener("pointerup", onPointerUp);

  window.addEventListener("load", () => {
    fetchHighScores();  // ê¸°ì¡´ ë­í‚¹ ë¶ˆëŸ¬ì˜¤ê¸°
    showMenu();
  });
</script>


</body>
</html>

